<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta charset='utf-8'>
      <title>
        OLE LMS API - Inventories
      </title>
      <link href='/stylesheet.css' rel='stylesheet'>
      <script src='/scripts.js' type='text/javascript'></script>
      <script src='/jquery.js' type='text/javascript'>
        <!-- you don't need to keep this, but it's cool for stats! -->
        <meta content='nanoc 3.7.3' name='generator'>
      </script>
    </meta>
  </head>
  <body>
    <header>
      <img src='/img/logo.png'>
    </header>
    <div class='cf' id='wrapper'>
      <div id='sidebar'>
        <h2>API</h2>
        <ul>
          <li>
            <a href='/api/index.html'>Getting Started</a>
          </li>
          <li>
            <a href='/api/logins/index.html'>Logins</a>
          </li>
          <li>
            <a href='/api/courses/index.html'>Courses</a>
          </li>
          <li>
            <a href='/api/inventories/index.html' class='active'>Inventories</a>
          </li>
          <li>
            <a href='/api/train_sessions/index.html'>Train Sessions</a>
          </li>
          <li>
            <a href='/api/lms_access/index.html'>LMS Access</a>
          </li>
        </ul>
      </div>
      <div id='main'>
        
        <h2 id="inventories">Inventories</h2>
        
        <p>The Inventories endpoint is used for assigning courses to users.</p>
        
        <h2 id="methods">Methods</h2>
        
        <h3 id="assign-units">Assign Units</h3>
        
        <p><code>https://learninglogin.com/api/inventories/assign_units</code></p>
        
        <p>To assign units to a user, send a <code>POST</code> request to the URL above with the following parameters:</p>
        
        <table>
          <thead>
            <tr>
              <th>Name</th>
              <th>Type</th>
              <th>Required?</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>course_codes</td>
              <td>array</td>
              <td>yes</td>
              <td>List of course codes that will be assigned</td>
            </tr>
            <tr>
              <td>login_ids</td>
              <td>array</td>
              <td>yes</td>
              <td>List of login ids to which selected courses will be assigned</td>
            </tr>
          </tbody>
        </table>
        
        <h4 id="json-sample-request-body">JSON Sample Request Body</h4>
        
        <p><code>POST https://learninglogin.com/api/inventories/assign_units</code></p>
        
        <pre><code class="language-json">  <span class="p">{</span>&#x000A;    <span class="nt">"course_codes"</span><span class="p">:</span> <span class="p">[</span><span class="err">'JHSC'</span><span class="p">],</span>&#x000A;    <span class="nt">"login_ids"</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>&#x000A;  <span class="p">}</span></code></pre>
        
        <h4 id="xml-sample-request-body">XML Sample Request Body</h4>
        
        <p><code>POST https://learninglogin.com/api/inventories/assign_units.xml</code></p>
        
        <p>Note: It is important to mantain the “type” of the parameter in the tag for the arrays of course_codes and login-ids</p>
        
        <pre><code class="language-xml"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>&#x000A;<span class="nt">&lt;content&gt;</span>&#x000A;  <span class="nt">&lt;course-codes</span> <span class="na">type=</span><span class="s">"array"</span><span class="nt">&gt;</span>&#x000A;     <span class="nt">&lt;course-code&gt;</span>WH1<span class="nt">&lt;/course-code&gt;</span>&#x000A;     <span class="nt">&lt;course-code&gt;</span>WH2<span class="nt">&lt;/course-code&gt;</span>&#x000A;  <span class="nt">&lt;/course-codes&gt;</span>&#x000A;  <span class="nt">&lt;login-ids</span> <span class="na">type=</span><span class="s">"array"</span><span class="nt">&gt;</span>&#x000A;     <span class="nt">&lt;login-id</span> <span class="na">type=</span><span class="s">"integer"</span><span class="nt">&gt;</span>1<span class="nt">&lt;/login-id&gt;</span>&#x000A;  <span class="nt">&lt;/login-ids&gt;</span>&#x000A;<span class="nt">&lt;content&gt;</span></code></pre>
        
        <h4 id="json-sample-response-body">JSON Sample Response Body</h4>
        
        <p>When courses are successfully assigned, our API will send an empty <code>JSON</code> hash as a response: <code>{ }</code>
        If the assignation requires an extra payment, the response body will include the <code>extra_payment</code> key. Example:</p>
        
        <pre><code class="language-json">  <span class="p">{</span>&#x000A;    <span class="nt">"extra_payment"</span><span class="p">:</span> <span class="err">'</span><span class="mi">1</span><span class="err">'</span>&#x000A;  <span class="p">}</span></code></pre>
        
        <h4 id="xml-sample-response-body">XML Sample Response Body</h4>
        
        <pre><code class="language-xml"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>&#x000A;<span class="nt">&lt;content&gt;</span>&#x000A;   <span class="nt">&lt;extra-payment&gt;</span>1<span class="nt">&lt;/extra-payment&gt;</span>&#x000A;<span class="nt">&lt;/content&gt;</span></code></pre>
        
        <p>If something goes wrong, the API will respond with a <code>HTTP 422</code> error code and the error’s description in the response body:</p>
        
        <h4 id="json-sample-response-body-failure">JSON Sample Response Body: Failure</h4>
        
        <pre><code class="language-json">  <span class="p">{</span>&#x000A;    <span class="nt">"errors"</span><span class="p">:</span> <span class="err">'You</span> <span class="err">do</span> <span class="err">not</span> <span class="err">have</span> <span class="err">enough</span> <span class="err">units</span> <span class="err">to</span> <span class="err">complete</span> <span class="err">this</span> <span class="err">operation'</span>&#x000A;  <span class="p">}</span></code></pre>
        
        <h4 id="xml-sample-response-body-failure">XML Sample Response Body: Failure</h4>
        
        <pre><code class="language-xml"><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>&#x000A;<span class="nt">&lt;errors&gt;</span>&#x000A;   <span class="nt">&lt;error&gt;</span>No courses found for given codes<span class="nt">&lt;/error&gt;</span>&#x000A;<span class="nt">&lt;/errors&gt;</span></code></pre>
      </div>
    </div>
  </body>
</html>
